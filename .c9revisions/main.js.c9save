{"ts":1359674446519,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var connectionId = -1;\n\n\nfunction onOpen(openInfo) {\n  connectionId = openInfo.connectionId;\n  if (connectionId == -1) {\n    setStatus('Could not open');\n    return;\n  }\n  setStatus('Connected');\n};\n\nfunction setStatus(status) {\n  document.getElementById('status').innerText = status;\n}\n\nfunction buildPortPicker(ports) {\n  var eligiblePorts = ports.filter(function(port) {\n    return !port.match(/[Bb]luetooth/);\n  });\n\n  var portPicker = document.getElementById('port-picker');\n  eligiblePorts.forEach(function(port) {\n    var portOption = document.createElement('option');\n    portOption.value = portOption.innerText = port;\n    portPicker.appendChild(portOption);\n  });\n\n  portPicker.onchange = function() {\n    if (connectionId != -1) {\n      chrome.serial.close(connectionId, openSelectedPort);\n      return;\n    }\n    openSelectedPort();\n  };\n}\n\nfunction openSelectedPort() {\n  var portPicker = document.getElementById('port-picker');\n  var selectedPort = portPicker.options[portPicker.selectedIndex].value;\n  chrome.serial.open(selectedPort, onOpen);\n}\n\nonload = function() {\n  var tv = document.getElementById('tv');\n  navigator.webkitGetUserMedia(\n      {video: true},\n      function(stream) {\n        tv.classList.add('working');\n        document.getElementById('camera-output').src =\n            webkitURL.createObjectURL(stream);\n      },\n      function() {\n        tv.classList.add('broken');\n      });\n\n  document.getElementById('position-input').onchange = function() {\n    setPosition(parseInt(this.value, 10));\n  };\n\n  chrome.serial.getPorts(function(ports) {\n    buildPortPicker(ports)\n    openSelectedPort();\n  });\n};"]],"start1":0,"start2":0,"length1":0,"length2":1637}]],"length":1637}
{"contributors":[],"silentsave":false,"ts":1359674549475,"patch":[[{"diffs":[[0,") {\n"],[-1,"  var tv = document.getElementById('tv');\n  navigator.webkitGetUserMedia(\n      {video: true},\n      function(stream) {\n        tv.classList.add('working');\n        document.getElementById('camera-output').src =\n            webkitURL.createObjectURL(stream);\n      },\n      function() {\n        tv.classList.add('broken');\n      });\n\n  document.getElementById('position-input').onchange = function() {\n    setPosition(parseInt(this.value, 10));\n  };\n\n"],[0,"  ch"]],"start1":1080,"start2":1080,"length1":459,"length2":8},{"diffs":[[0,"r(ports)"],[1,";"],[0,"\n    ope"]],"start1":1145,"start2":1145,"length1":16,"length2":17}]],"length":1187,"saved":false}
{"ts":1359674847722,"patch":[[{"diffs":[[1,"\n\n// JSLint Options\n/*global chrome: false */\n/*jslint browser: true, devel: true*/\n\n\n"],[0,"var connecti"]],"start1":0,"start2":0,"length1":12,"length2":98},{"diffs":[[0,"ted');\n}"],[-1,";"],[0,"\n\nfuncti"]],"start1":275,"start2":275,"length1":17,"length2":16}]],"length":1272,"saved":false}
{"ts":1359674922757,"patch":[[{"diffs":[[-1,"\n\n"],[0,"// JSLin"]],"start1":0,"start2":0,"length1":10,"length2":8},{"diffs":[[0," = -1;\n\n"],[-1,"\n"],[0,"function"]],"start1":100,"start2":100,"length1":17,"length2":16}]],"length":1269,"saved":false}
